/*! For license information please see 510.eac6a0f7.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkpresidente_2026=self.webpackChunkpresidente_2026||[]).push([[510],{73:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},978:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]])},1590:(e,a,t)=>{t.d(a,{v1:()=>s});const s=e=>new Intl.NumberFormat("es-CL").format(e)},2489:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},4459:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4510:(e,a,t)=>{t.r(a),t.d(a,{default:()=>w});var s=t(2555),l=t(5043),r=t(1590),i=t(1680),n=t(9917),o=t(5264),c=t(2489),d=t(4669),x=t(73),m=t(4918),u=t(7118),h=t(5692),p=t(978),g=t(614),b=t(5746),j=t(1283),f=t(9809),y=t(3539),v=t(5346),N=(t(5157),t(579));const w=()=>{const[e,a]=(0,l.useState)(0),[t,w]=(0,l.useState)({x:0,y:0}),[k,A]=(0,l.useState)({actual:0,meta:35361,porcentaje:0}),[C,S]=(0,l.useState)([]),[E,M]=(0,l.useState)(!1),[T,z]=(0,l.useState)({contenido:"",nombre_publico:"",ocupacion:"",region:""}),[L,P]=(0,l.useState)(!1);(0,l.useEffect)(()=>{const e=()=>a(window.scrollY),t=e=>w({x:e.clientX,y:e.clientY});return window.addEventListener("scroll",e),window.addEventListener("mousemove",t),V(),q(),()=>{window.removeEventListener("scroll",e),window.removeEventListener("mousemove",t)}},[]);const V=async()=>{try{const e=await fetch("/api/patrocinios/stats"),a=await e.json();A({actual:a.actual||0,meta:a.meta||35361,porcentaje:Math.min(a.actual/(a.meta||35361)*100,100)})}catch(e){console.error("Error cargando datos de patrocinios:",e)}},q=async()=>{try{const e=await fetch("/api/testimonios/aprobados"),a=await e.json();S(a||[])}catch(e){console.error("Error cargando testimonios:",e)}},I=[{numero:1,titulo:"Descarga el Formulario",descripcion:"Descarga el formulario oficial de patrocinio desde SERVEL",icon:(0,N.jsx)(i.A,{className:"w-8 h-8"}),detalle:"Formulario disponible en formato PDF"},{numero:2,titulo:"Completa tus Datos",descripcion:"Ingresa tu RUT, nombre completo, direcci\xf3n y firma",icon:(0,N.jsx)(n.A,{className:"w-8 h-8"}),detalle:"Datos deben coincidir con tu c\xe9dula de identidad"},{numero:3,titulo:"Entrega Presencial",descripcion:"Lleva el formulario a nuestros puntos de recolecci\xf3n",icon:(0,N.jsx)(o.A,{className:"w-8 h-8"}),detalle:"Ubicaciones en todas las regiones de Chile"},{numero:4,titulo:"Validaci\xf3n SERVEL",descripcion:"SERVEL valida tu patrocinio y lo cuenta oficialmente",icon:(0,N.jsx)(c.A,{className:"w-8 h-8"}),detalle:"Proceso transparente y verificable"}];return(0,N.jsx)(f.A,{title:"Patrocina Mi Candidatura - Juan Pablo Melinao 2026",description:"S\xe9 parte del cambio. Patrocina la candidatura presidencial de Juan Pablo Melinao Gonz\xe1lez para Chile 2026. Tecnolog\xeda para Todos, Unidad para Chile.",keywords:"patrocinio, candidatura presidencial, Juan Pablo Melinao, Chile 2026, SERVEL, firmas",canonicalUrl:"https://melinao2026.cl/patrocinios",children:(0,N.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[(0,N.jsxs)("section",{className:"relative py-20 lg:py-32 overflow-hidden",children:[(0,N.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800",style:{transform:"translateY(".concat(.5*e,"px)")}}),(0,N.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,N.jsxs)("div",{className:"text-center text-white",children:[(0,N.jsx)("h1",{className:"text-4xl lg:text-6xl font-bold mb-6",children:(0,N.jsx)("span",{className:"bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent",children:"S\xe9 Parte del Cambio"})}),(0,N.jsx)("p",{className:"text-xl lg:text-2xl mb-8 text-blue-100",children:"Patrocina mi candidatura presidencial para Chile 2026"}),(0,N.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 mb-8 max-w-2xl mx-auto",children:(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"text-5xl lg:text-7xl font-bold text-yellow-300 mb-2",children:(0,r.v1)(k.actual)}),(0,N.jsxs)("div",{className:"text-lg text-blue-100 mb-4",children:["de ",(0,r.v1)(k.meta)," patrocinios necesarios"]}),(0,N.jsx)("div",{className:"w-full bg-white/20 rounded-full h-4 mb-4",children:(0,N.jsx)("div",{className:"bg-gradient-to-r from-yellow-300 to-orange-300 h-4 rounded-full transition-all duration-1000",style:{width:"".concat(k.porcentaje,"%")}})}),(0,N.jsxs)("div",{className:"text-2xl font-bold text-yellow-300",children:[k.porcentaje.toFixed(1),"% completado"]})]})}),(0,N.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,N.jsxs)("a",{href:"#como-patrocinar",className:"bg-yellow-400 hover:bg-yellow-300 text-blue-900 px-8 py-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center gap-2",children:[(0,N.jsx)(i.A,{className:"w-5 h-5"}),"Quiero Patrocinar"]}),(0,N.jsxs)("a",{href:"#testimonios",className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-8 py-4 rounded-xl font-bold text-lg transition-all flex items-center justify-center gap-2",children:[(0,N.jsx)(d.A,{className:"w-5 h-5"}),"Ver Testimonios"]})]})]})})]}),(0,N.jsx)("section",{className:"py-20 bg-white",children:(0,N.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,N.jsxs)("div",{className:"text-center mb-16",children:[(0,N.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"\xbfPor qu\xe9 patrocinar mi candidatura?"}),(0,N.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Tu patrocinio es m\xe1s que una firma: es tu voto de confianza para transformar Chile con tecnolog\xeda, justicia social y unidad nacional."})]}),(0,N.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,N.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl",children:[(0,N.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,N.jsx)(x.A,{className:"w-8 h-8 text-white"})}),(0,N.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Tecnolog\xeda para Todos"}),(0,N.jsx)("p",{className:"text-gray-600",children:"Tr\xe1mites en 2 minutos, ahorro de $500 mil millones anuales, empleos digitales para todos."})]}),(0,N.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl",children:[(0,N.jsx)("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,N.jsx)(m.A,{className:"w-8 h-8 text-white"})}),(0,N.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Justicia Social Real"}),(0,N.jsx)("p",{className:"text-gray-600",children:"$4.5 millones para profesores, fin de privilegios pol\xedticos, sueldo m\xednimo $900k."})]}),(0,N.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl",children:[(0,N.jsx)("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,N.jsx)(u.A,{className:"w-8 h-8 text-white"})}),(0,N.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Chile Unido"}),(0,N.jsx)("p",{className:"text-gray-600",children:"Reconciliaci\xf3n mapuche, desarrollo de La Araucan\xeda, fronteras seguras con dignidad."})]})]})]})}),(0,N.jsx)("section",{id:"como-patrocinar",className:"py-20 bg-gradient-to-br from-slate-50 to-blue-50",children:(0,N.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,N.jsxs)("div",{className:"text-center mb-16",children:[(0,N.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"\xbfC\xf3mo patrocinar mi candidatura?"}),(0,N.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"El proceso es simple y seguro. SERVEL valida cada patrocinio para garantizar transparencia total."})]}),(0,N.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:I.map((e,a)=>(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all transform hover:scale-105",children:(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.icon}),(0,N.jsx)("div",{className:"w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center mx-auto -mt-2 mb-4 text-sm font-bold text-blue-900",children:e.numero}),(0,N.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:e.titulo}),(0,N.jsx)("p",{className:"text-gray-600 mb-3",children:e.descripcion}),(0,N.jsx)("p",{className:"text-sm text-blue-600 font-medium",children:e.detalle})]})}),a<I.length-1&&(0,N.jsx)("div",{className:"hidden lg:block absolute top-8 -right-4 z-10",children:(0,N.jsx)(h.A,{className:"w-8 h-8 text-blue-400"})})]},a))}),(0,N.jsx)("div",{className:"text-center mt-12",children:(0,N.jsxs)("a",{href:"#",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center gap-2",children:[(0,N.jsx)(i.A,{className:"w-5 h-5"}),"Descargar Formulario SERVEL"]})})]})}),(0,N.jsx)("section",{id:"testimonios",className:"py-20 bg-white",children:(0,N.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,N.jsxs)("div",{className:"text-center mb-16",children:[(0,N.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Testimonios de Patrocinadores"}),(0,N.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Conoce por qu\xe9 ciudadanos de todo Chile han decidido patrocinar nuestra candidatura."}),(0,N.jsx)(v.A,{children:e=>{let{user:a,isAuthenticated:t}=e;return t?(0,N.jsxs)("button",{onClick:()=>M(!0),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-bold transition-all inline-flex items-center gap-2",children:[(0,N.jsx)(d.A,{className:"w-5 h-5"}),"Compartir mi Testimonio"]}):(0,N.jsxs)("p",{className:"text-gray-500",children:[(0,N.jsx)("a",{href:"#",className:"text-blue-600 hover:underline",children:"Inicia sesi\xf3n"})," para compartir tu testimonio"]})}})]}),(0,N.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:C.map((e,a)=>(0,N.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 shadow-lg",children:[(0,N.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,N.jsx)(p.A,{className:"w-8 h-8 text-blue-600 flex-shrink-0"}),(0,N.jsx)("p",{className:"text-gray-700 italic",children:e.contenido})]}),(0,N.jsxs)("div",{className:"border-t pt-4",children:[(0,N.jsx)("div",{className:"font-bold text-gray-900",children:e.nombre_publico}),(0,N.jsx)("div",{className:"text-sm text-gray-600",children:e.ocupacion}),(0,N.jsx)("div",{className:"text-sm text-blue-600",children:e.region})]})]},a))}),0===C.length&&(0,N.jsxs)("div",{className:"text-center py-12",children:[(0,N.jsx)(d.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,N.jsx)("p",{className:"text-gray-500",children:"S\xe9 el primero en compartir tu testimonio de apoyo a nuestra candidatura."})]})]})}),E&&(0,N.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,N.jsx)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,N.jsxs)("div",{className:"p-6",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,N.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Compartir Testimonio"}),(0,N.jsx)("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:(0,N.jsx)(g.A,{className:"w-6 h-6"})})]}),(0,N.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),P(!0);try{const e=localStorage.getItem("token");(await fetch("/api/testimonios",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(T)})).ok?(M(!1),z({contenido:"",nombre_publico:"",ocupacion:"",region:""}),alert("\xa1Testimonio enviado! Ser\xe1 revisado y publicado pronto.")):alert("Error enviando testimonio. Int\xe9ntalo nuevamente.")}catch(a){console.error("Error enviando testimonio:",a),alert("Error enviando testimonio. Int\xe9ntalo nuevamente.")}finally{P(!1)}},className:"space-y-6",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tu testimonio *"}),(0,N.jsx)("textarea",{value:T.contenido,onChange:e=>z((0,s.A)((0,s.A)({},T),{},{contenido:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"4",placeholder:"\xbfPor qu\xe9 decidiste patrocinar esta candidatura?",required:!0})]}),(0,N.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre p\xfablico"}),(0,N.jsx)("input",{type:"text",value:T.nombre_publico,onChange:e=>z((0,s.A)((0,s.A)({},T),{},{nombre_publico:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Como quieres aparecer"})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ocupaci\xf3n"}),(0,N.jsx)("input",{type:"text",value:T.ocupacion,onChange:e=>z((0,s.A)((0,s.A)({},T),{},{ocupacion:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tu profesi\xf3n u ocupaci\xf3n"})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Regi\xf3n"}),(0,N.jsxs)("select",{value:T.region,onChange:e=>z((0,s.A)((0,s.A)({},T),{},{region:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,N.jsx)("option",{value:"",children:"Selecciona tu regi\xf3n"}),["Arica y Parinacota","Tarapac\xe1","Antofagasta","Atacama","Coquimbo","Valpara\xedso","Metropolitana","O'Higgins","Maule","\xd1uble","Biob\xedo","Araucan\xeda","Los R\xedos","Los Lagos","Ays\xe9n","Magallanes"].map(e=>(0,N.jsx)("option",{value:e,children:e},e))]})]}),(0,N.jsx)("div",{className:"bg-blue-50 p-4 rounded-xl",children:(0,N.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,N.jsx)("strong",{children:"Nota:"})," Tu testimonio ser\xe1 revisado antes de publicarse. Solo se publicar\xe1n testimonios constructivos y respetuosos."]})}),(0,N.jsxs)("div",{className:"flex gap-4",children:[(0,N.jsx)("button",{type:"button",onClick:()=>M(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-3 rounded-xl font-bold transition-all",children:"Cancelar"}),(0,N.jsx)("button",{type:"submit",disabled:L||!T.contenido.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-6 py-3 rounded-xl font-bold transition-all inline-flex items-center justify-center gap-2",children:L?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"Enviando..."]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(b.A,{className:"w-5 h-5"}),"Enviar Testimonio"]})})]})]})]})})}),(0,N.jsx)("section",{className:"py-20 bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800",children:(0,N.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-white",children:[(0,N.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold mb-6",children:"Tu patrocinio construye el Chile que so\xf1amos"}),(0,N.jsx)("p",{className:"text-xl mb-8 text-blue-100",children:"Cada firma nos acerca m\xe1s a un pa\xeds con tecnolog\xeda para todos, justicia social real y unidad nacional."}),(0,N.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,N.jsxs)("a",{href:"#como-patrocinar",className:"bg-yellow-400 hover:bg-yellow-300 text-blue-900 px-8 py-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center justify-center gap-2",children:[(0,N.jsx)(i.A,{className:"w-5 h-5"}),"Descargar Formulario"]}),(0,N.jsxs)(j.N_,{to:"/",className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-8 py-4 rounded-xl font-bold text-lg transition-all inline-flex items-center justify-center gap-2",children:[(0,N.jsx)(h.A,{className:"w-5 h-5"}),"Conocer Propuestas"]})]})]})}),(0,N.jsx)(y.A,{})]})})}},4918:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},5264:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},5346:(e,a,t)=>{t.d(a,{A:()=>x});var s=t(5043),l=t(7784);const r=(0,l.A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var i=t(4459),n=t(9698);const o=(0,l.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var c=t(2267),d=t(579);const x=e=>{let{onAuthChange:a}=e;const[t,l]=(0,s.useState)(null),[x,m]=(0,s.useState)(!0),[u,h]=(0,s.useState)(!0),[p,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=new URLSearchParams(window.location.search).get("token");e&&(localStorage.setItem("authToken",e),window.history.replaceState({},document.title,window.location.pathname)),b()},[]);const b=async()=>{try{m(!0);const e=localStorage.getItem("authToken");if(!e)return l(null),void(a&&a(null));const t=await fetch("/api/auth/user",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();l(e),a&&a(e)}else 401===t.status&&(localStorage.removeItem("authToken"),l(null),a&&a(null))}catch(p){localStorage.removeItem("authToken"),g("Error de conexi\xf3n")}finally{m(!1)}},j=()=>{localStorage.removeItem("authToken"),l(null),a&&a(null),window.location.reload()};return x?(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,d.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),(0,d.jsx)("span",{className:"text-sm",children:"Verificando..."})]}):p&&!u?(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-amber-600 bg-amber-50 px-3 py-2 rounded-lg",children:[(0,d.jsx)(r,{className:"w-4 h-4"}),(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("div",{className:"font-medium",children:"OAuth en configuraci\xf3n"}),(0,d.jsx)("div",{className:"text-xs",children:"Participaci\xf3n disponible sin login"})]})]}):t?(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[t.avatar?(0,d.jsx)("img",{src:t.avatar,alt:t.nombre,className:"w-8 h-8 rounded-full"}):(0,d.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center",children:(0,d.jsx)(i.A,{className:"w-4 h-4 text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.nombre}),(0,d.jsxs)("div",{className:"text-xs text-gray-500",children:[t.consultasEnviadas," consultas"]})]})]}),(0,d.jsx)("button",{onClick:j,className:"text-xs text-red-600 hover:text-red-700 transition-colors",children:"Salir"})]}):(0,d.jsx)("div",{className:"flex items-center space-x-2",children:u?(0,d.jsxs)("button",{onClick:async()=>{try{const e=(0,c.KB)("/api/auth/google"),a=await fetch("/api/auth/google",{method:"GET",credentials:"include"});if(503===a.status){const e=await a.json();return h(!1),void g(e.message)}window.location.href=e}catch(p){g("Error iniciando sesi\xf3n"),h(!1)}},className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,d.jsx)(n.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{className:"text-sm",children:"Iniciar Sesi\xf3n"})]}):(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500",children:[(0,d.jsx)(o,{className:"w-4 h-4"}),(0,d.jsx)("span",{className:"text-sm",children:"Login en configuraci\xf3n"})]})})}},9698:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]])},9917:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(7784).A)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])}}]);
//# sourceMappingURL=510.eac6a0f7.chunk.js.map